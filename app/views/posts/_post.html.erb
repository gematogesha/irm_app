<div class="post__flex">
    <% (1..4).each do |ind|%>
    <div class="line line_id_<%= ind %>">
        <% @posts.each_with_index do |post, i| %>
            <% if (i+1 - ind)%4==0 %>
                <div class="post__item" id="post_id_<%= post.id %>">
                    <% if post.hot == true %>
                        <div class="post__hot small"><%= icon("fa-solid", "fire")%> Горячая новость</div>
                    <% end %>
                    <% if post.best == true %>
                        <div class="post__best small "><%= icon("fa-solid", "star")%> Новость недели</div>
                    <% end %>
                    <div class="post__item_img left">
                        <%= link_to post_url(post.number, subdomain: false), class: "left flex-block" do%>
                        <% if post.image.present? %>
                            <%= image_tag(post.image, alt: post.title, title: post.title) %>
                        <% else %>
                            <%= image_tag("noimage.png", alt: "Нет изображения", title: 'Нет изображения') %>
                        <% end %>
                    <% end %>
                </div>
                <div class="post__item_details">
                    <div class="post__item_title">
                        <h6><%= link_to post.title, post_url(post.number, subdomain: false) %></h5>
                    </div>
                    <span align="justify" class="left">
                        <% if !post.subtitle.nil? %>
                            <%= post.subtitle.truncate(150, separator: ' ') %>
                        <% end %>
                    </span>
                    <div class="post__item_date small right"><%= l(post.created_at, format: :long) %></div>
                </div>
            </div>
        <% end %>
    <% end %>
</div><% end %></div>
