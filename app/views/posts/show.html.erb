<%- title @page_title_text %>


<section class="section-posts section_gray" style="padding: 0;">
    <div class="wrapper wrapper__content">
        <div class="content">
            <div class="content-wrapper">
                <div class="tags">
                    <% if @post.hot == true %>
                        <div class="tag tag_fargo small"><%= icon("fa-solid", "fire", class: "tag__icon")%>
                            Горячая новость</div>
                    <% end %>
                    <% if @post.best == true %>
                        <div class="tag tag_rocky small "><%= icon("fa-solid", "star", class: "tag__icon")%>
                            Новость недели</div>
                    <% end %>
                </div>
                <h5 class="content__title"><%= @post.title %></h5>
                <div class="post-details small">
                    <div class="tag tag_rocky small"><%= l(@post.created_at, format: :long) %></div>
                    <div class="tag tag_rocky small"><%= icon('fa-solid', 'eye', class: "tag__icon")%><%= @post.views %></div>
                </div>
                <div align="justify" class="content__subtitle"><%= @post.subtitle %></div>
            </div>
            <% if @post.image.present? %>
                <div class="content__img">
                    <%= image_tag(@post.image, alt: @post.title, title: @post.title, class: "content__img_inside") %>
                </div>
            <% end %>

            <div class="content-wrapper">
                <%= @post.content %>
                <div class="post__nav">
                    <% if !@post.previous.nil? %>
                        <%= link_to post_url(@post.previous.number), class: 'post__nav_link' do %>
                            <div class="post__nav_prev">
                                <div class="plank">
                                    <div class="plank__action">
                                        <%= icon("fa-solid", "chevron-left")%>
                                    </div>
                                    <div class="plank__content">
                                        <div class="plank__title"><%= @post.previous.title.truncate(20, separator: '') %></div>
                                        <div class="plank__subtitle">Предыдущая новость</div>
                                    </div>
                                    <div class="plank__icon flex_center_center">
                                        <div class="plank__img flex_center_center">
                                            <% if @post.previous.image.present? %>
                                                <%= image_tag(@post.previous.image, alt: @post.previous.title, title: @post.previous.title, class: "plank__img_inside") %>
                                            <% else %>
                                                <%= image_tag("noimage.png", alt: "Нет изображения", title: 'Нет изображения', class: "plank__img_inside") %>
                                            <% end %>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        <% end %>
                    <% end %>
                    <% if !@post.next.nil? %>
                        <%= link_to post_url(@post.next.number), class: 'post__nav_link' do %>
                            <div class="post__nav_next">
                                <div class="plank">
                                    <div class="plank__icon">
                                        <div class="plank__img flex_center_center">
                                            <% if @post.next.image.present? %>
                                                <%= image_tag(@post.next.image, alt: @post.next.title, title: @post.next.title, class: "plank__img_inside") %>
                                            <% else %>
                                                <%= image_tag("noimage.png", alt: "Нет изображения", title: 'Нет изображения', class: "plank__img_inside") %>
                                            <% end %>
                                        </div>
                                    </div>
                                    <div class="plank__content">
                                        <div class="plank__title"><%= @post.next.title.truncate(20, separator: '') %></div>
                                        <div class="plank__subtitle">Следующая новость</div>
                                    </div>
                                    <div class="plank__action">
                                        <%= icon("fa-solid", "chevron-right")%>
                                    </div>
                                </div>
                            </div>
                        <% end %>
                    <% end %>
                </div>
            </div>
        </div>
    </div>
</section>
